{"id":"c5jD","dependencies":[{"name":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/tsconfig.json","includedInParent":true,"mtime":1653404919912},{"name":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/package.json","includedInParent":true,"mtime":1654517727180},{"name":"tslib","loc":{"line":4,"column":24},"parent":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/index.ts","resolved":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/node_modules/tslib/tslib.es6.js"},{"name":"./signature","loc":{"line":7,"column":34},"parent":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/index.ts","resolved":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/signature.ts"},{"name":"../../serialize","loc":{"line":6,"column":28},"parent":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/index.ts","resolved":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/serialize/index.ts"},{"name":"buffer","parent":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/index.ts","resolved":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Schnorr=void 0;const r=require(\"tslib\"),t=require(\"./signature\"),s=require(\"../../serialize\");(0,r.__exportStar)(require(\"./signature\"),exports);class a{constructor(e){this.wasm=e}constructSignature(r,s){return this.wasm.transferToHeap(s,64),this.wasm.transferToHeap(r,96),this.wasm.call(\"construct_signature\",96,r.length,64,0,32),new t.SchnorrSignature(e.from(this.wasm.sliceMemory(0,64)))}computePublicKey(r){return this.wasm.transferToHeap(r,0),this.wasm.call(\"compute_public_key\",0,32),e.from(this.wasm.sliceMemory(32,96))}verifySignature(e,r,t){return this.wasm.transferToHeap(r,0),this.wasm.transferToHeap(t.s(),64),this.wasm.transferToHeap(t.e(),96),this.wasm.transferToHeap(e,128),!!this.wasm.call(\"verify_signature\",128,e.length,0,64,96)}multiSigComputePublicKey(r){return this.wasm.transferToHeap(r,128),this.wasm.call(\"multisig_create_multisig_public_key\",128,0),e.from(this.wasm.sliceMemory(0,128))}multiSigValidateAndCombinePublicKeys(r){const t=(0,s.serializeBufferArrayToVector)(r);return this.wasm.transferToHeap(t,64),this.wasm.call(\"multisig_validate_and_combine_signer_pubkeys\",64,0),e.from(this.wasm.sliceMemory(0,64))}multiSigRoundOne(){return this.wasm.call(\"multisig_construct_signature_round_1\",0,128),{publicOutput:e.from(this.wasm.sliceMemory(0,128)),privateOutput:e.from(this.wasm.sliceMemory(128,192))}}multiSigRoundTwo(r,t,a,i,o){const n=(0,s.serializeBufferArrayToVector)(i),l=(0,s.serializeBufferArrayToVector)(o);this.wasm.transferToHeap(r,32);let m=32+r.length;this.wasm.transferToHeap(t,m);let u=m+32;this.wasm.transferToHeap(a,u);let c=u+64;this.wasm.transferToHeap(n,c);let h=c+n.length;return this.wasm.transferToHeap(l,h),this.wasm.call(\"multisig_construct_signature_round_2\",32,r.length,m,u,c,h,0),e.from(this.wasm.sliceMemory(0,32))}multiSigCombineSignatures(r,a,i,o){const n=(0,s.serializeBufferArrayToVector)(a),l=(0,s.serializeBufferArrayToVector)(i),m=(0,s.serializeBufferArrayToVector)(o);this.wasm.transferToHeap(r,64);let u=64+r.length;this.wasm.transferToHeap(n,u);let c=u+n.length;this.wasm.transferToHeap(l,c);let h=c+l.length;return this.wasm.transferToHeap(m,h),this.wasm.call(\"multisig_combine_signatures\",64,r.length,u,c,h,0,32),new t.SchnorrSignature(e.from(this.wasm.sliceMemory(0,64)))}}exports.Schnorr=a;"},"sourceMaps":null,"error":null,"hash":"b1af885061fcaa6f4d69afeb7818d247","cacheData":{"env":{}}}